(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["setting"],{8930:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"setting-container"},[o("el-card",[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{attrs:{slot:"header"},slot:"header"},[o("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",[t._v("首页")]),o("el-breadcrumb-item",[t._v("个人设置")])],1)],1)]),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form",{attrs:{"label-width":"120px"}},[o("el-form-item",{attrs:{label:"编号："}},[t._v("100")]),o("el-form-item",{attrs:{label:"手机："}},[t._v(t._s(t.userInfo.mobile))]),o("el-form-item",{attrs:{label:"媒体名称："}},[o("el-input",{model:{value:t.userInfo.name,callback:function(e){t.$set(t.userInfo,"name",e)},expression:"userInfo.name"}})],1),o("el-form-item",{attrs:{label:"媒体简介："}},[o("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.userInfo.intro,callback:function(e){t.$set(t.userInfo,"intro",e)},expression:"userInfo.intro"}})],1),o("el-form-item",{attrs:{label:"联系邮箱："}},[o("el-input",{model:{value:t.userInfo.email,callback:function(e){t.$set(t.userInfo,"email",e)},expression:"userInfo.email"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateUser(t.userInfo.id)}}},[t._v("保存设置")])],1)],1)],1),o("el-col",{attrs:{span:12}},[o("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","http-request":t.uploadPhoto,"show-file-list":!1}},[t.userInfo.photo?o("img",{staticClass:"avatar",attrs:{src:t.userInfo.photo}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),o("p",{staticClass:"edit-photo"},[t._v("修改头像")])],1)],1)],1)],1)},n=[],r=(o("b0c0"),o("c24f")),s=o("b775"),i=function(t){return Object(s["a"])({url:"/mp/v1_0/user/profile",method:"PATCH",data:t})},l=function(t){return Object(s["a"])({url:"/mp/v1_0/user/photo",method:"PATCH",data:t})},u={name:"my-setting",data:function(){return{userInfo:{mobile:"",name:"",intro:"",email:"",photo:""},imageUrl:null}},methods:{addCont:function(){console.log("父函数组件调用了")},updateUser:function(t){var e=this;i({name:this.userInfo.name,intro:this.userInfo.intro,email:this.userInfo.email}).then((function(t){e.eventBus.$emit("getName",e.userInfo.name)}))},uploadPhoto:function(t){var e=this,o=t.file,a=new FormData;a.append("photo",o),l(a).then((function(t){e.userInfo.photo=t.data.data.photo,e.eventBus.$emit("getPhoto",e.userInfo.photo)}))},hgetUserInfo:function(){var t=this;Object(r["b"])().then((function(e){t.userInfo=e.data.data}))}},mounted:function(){this.hgetUserInfo()}},c=u,f=(o("e454"),o("2877")),m=Object(f["a"])(c,a,n,!1,null,"46763b55",null);e["default"]=m.exports},"9c8b":function(t,e,o){},e454:function(t,e,o){"use strict";var a=o("9c8b"),n=o.n(a);n.a}}]);
//# sourceMappingURL=setting.206c3385.js.map