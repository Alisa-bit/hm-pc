{"version":3,"sources":["webpack:///./src/api/article.js","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./src/views/Articles/index.vue?bfb7","webpack:///./src/views/Articles/index.vue?fcce","webpack:///src/views/Articles/index.vue","webpack:///./src/views/Articles/index.vue?a6d9","webpack:///./src/views/Articles/index.vue","webpack:///./node_modules/core-js/internals/regexp-flags.js"],"names":["articleList","params","request","url","method","getChannel","delArticle","id","add","draft","data","article","editarticle","redefine","anObject","fails","flags","TO_STRING","RegExpPrototype","RegExp","prototype","nativeToString","NOT_GENERIC","call","source","INCORRECT_NAME","name","R","this","p","String","rf","f","undefined","unsafe","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","slot","path","_v","ref","form","model","value","callback","$$v","$set","expression","_l","item","key","on","doSearch","_s","total_count","staticStyle","tableData","scopedSlots","_u","fn","scope","row","cover","images","status","_e","$event","handleEdit","$index","handleDelete","curPage","handleSizeChange","staticRenderFns","channelId","begin_pubdat","end_pubdate","date","channels","methods","getList","page","channel_id","begin_pubdate","hgetChannel","val","localStorage","setItem","console","log","index","$router","push","query","mounted","component","module","exports","that","result","global","ignoreCase","multiline","dotAll","unicode","sticky"],"mappings":"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","file":"js/articles.9fed0269.js","sourcesContent":["// 封装跟文章相关的接口\r\nimport request from \"@/utils/request\"\r\n\r\n// 获取文章列表数据接口\r\n// 传递的参数\r\nexport const articleList = (params) => {\r\n    return request({\r\n        url: '/mp/v1_0/articles',\r\n        method: 'get',\r\n        params: params\r\n    })\r\n}\r\n\r\n// 获取频道接口\r\nexport const getChannel = () => {\r\n    return request({\r\n        url: '/mp/v1_0/channels',\r\n        method: 'get'\r\n    })\r\n}\r\n\r\n// 删除文章的接口\r\nexport const delArticle = (id) => {\r\n    return request({\r\n        method: 'delete',\r\n        url: `/mp/v1_0/articles/${id}`\r\n    })\r\n}\r\n\r\n\r\n// 发布文章\r\nexport const add = (draft,data) => {\r\n    return request({\r\n        method: 'post',\r\n        url: `/mp/v1_0/articles`,\r\n        // 放置query中的\r\n        params:{\r\n            draft:draft\r\n        },\r\n        // 放置body中的\r\n        data\r\n    })\r\n}\r\n\r\n\r\n// 获取指定文章的数据\r\nexport const article = (id) => {\r\n    return request({\r\n        url:`/mp/v1_0/articles/${id}`,\r\n        method: 'get'\r\n    })\r\n}\r\n\r\n// 编辑当前指定的文章\r\nexport const editarticle = (id,params,data) => {\r\n    return request({\r\n        url:`/mp/v1_0/articles/${id}`,\r\n        method: 'PUT',\r\n        params:params,\r\n        data:data\r\n    })\r\n}","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1d531780&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1d531780&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article\"},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"内容管理\")])],1)],1),_c('div',{staticClass:\"from\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"40px\",\"size\":\"mini\"}},[_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-radio-group',{model:{value:(_vm.form.status),callback:function ($$v) {_vm.$set(_vm.form, \"status\", $$v)},expression:\"form.status\"}},[_c('el-radio',{attrs:{\"label\":null}},[_vm._v(\"全部\")]),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"草稿\")]),_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"待审核\")]),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"审核通过\")]),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"审核失败\")]),_c('el-radio',{attrs:{\"label\":4}},[_vm._v(\"已删除\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"频道\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择频道\"},model:{value:(_vm.form.channelId),callback:function ($$v) {_vm.$set(_vm.form, \"channelId\", $$v)},expression:\"form.channelId\"}},_vm._l((_vm.channels),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"日期\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetimerange\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM-dd\",\"default-time\":['12:00:00']},model:{value:(_vm.form.date),callback:function ($$v) {_vm.$set(_vm.form, \"date\", $$v)},expression:\"form.date\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.doSearch}},[_vm._v(\"查询\")])],1)],1)],1)]),_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"根据条件筛选到\"+_vm._s(_vm.total_count)+\"条\")]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"label\":\"封面\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-image',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\"},attrs:{\"src\":scope.row.cover.images[0],\"fit\":\"contain \"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"标题\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status===0)?_c('el-tag',[_vm._v(\"草稿\")]):(scope.row.status===1)?_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\"待审核\")]):(scope.row.status===2)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"审核通过\")]):(scope.row.status===3)?_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(\"审核失败\")]):(scope.row.status===4)?_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(\"已删除\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"pubdate\",\"label\":\"发布时间\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"circle\":\"\",\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}}),_c('el-button',{attrs:{\"circle\":\"\",\"size\":\"mini\",\"icon\":\"el-icon-delete\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}})]}}])})],1),_c('el-pagination',{staticClass:\"pageCount\",attrs:{\"background\":\"\",\"layout\":\"total,  prev, pager, next, jumper\",\"current-page\":_vm.curPage,\"total\":_vm.total_count},on:{\"current-change\":_vm.handleSizeChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"article\">\r\n    <el-card class=\"box-card\">\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n          <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n          <el-breadcrumb-item>内容管理</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n      </div>\r\n      <div class=\"from\">\r\n        <!-- 数据筛选表单 -->\r\n        <el-form ref=\"form\" :model=\"form\" label-width=\"40px\" size=\"mini\">\r\n          <el-form-item label=\"状态\">\r\n            <!-- 接口需要的数据是0 1 2 3 4 -->\r\n            <!-- 既要保证传递过去的数据符合接口要求，又要保证前端页面显示的内容 -->\r\n            <el-radio-group v-model=\"form.status\">\r\n              <el-radio :label=\"null\">全部</el-radio>\r\n              <el-radio :label=\"0\">草稿</el-radio>\r\n              <el-radio :label=\"1\">待审核</el-radio>\r\n              <el-radio :label=\"2\">审核通过</el-radio>\r\n              <el-radio :label=\"3\">审核失败</el-radio>\r\n              <el-radio :label=\"4\">已删除</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n          <el-form-item label=\"频道\">\r\n            <el-select v-model=\"form.channelId\" placeholder=\"请选择频道\">\r\n              <!-- value是接口需要的数据 -->\r\n              <!-- v-for循环渲染数组列表-->\r\n              <el-option\r\n                v-for=\"item in channels\"\r\n                :label=\"item.name\"\r\n                :value=\"item.id\"\r\n                :key=\"item.id\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"日期\">\r\n            <el-date-picker\r\n              v-model=\"form.date\"\r\n              type=\"datetimerange\"\r\n              start-placeholder=\"开始日期\"\r\n              end-placeholder=\"结束日期\"\r\n              value-format=\"yyyy-MM-dd\"\r\n              :default-time=\"['12:00:00']\"\r\n            ></el-date-picker>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"doSearch\">查询</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n        <!-- /数据筛选表单 -->\r\n      </div>\r\n    </el-card>\r\n    <el-card class=\"box-card\">\r\n      <div slot=\"header\" class=\"clearfix\">根据条件筛选到{{total_count}}条</div>\r\n\r\n      <!-- data属性控制了要渲染的实际数据 -->\r\n      <!-- el-table-column代表表格的每一列，label代表表头文字，prop代表渲染的数据字段名 -->\r\n      <!--注意点：表格按列渲染的 -->\r\n      <el-table :data=\"tableData\" style=\"width: 100%\">\r\n        <!--封面需要的数据不能直接通过属性名获取到，我们需要进入到对象里面才可以获取到  -->\r\n        <!-- 如何取到呢？ -->\r\n        <!-- 通过 -->\r\n        <el-table-column label=\"封面\" width=\"180\">\r\n          <template slot-scope=\"scope\">\r\n            <el-image\r\n              style=\"width: 100px; height: 100px\"\r\n              :src=\"scope.row.cover.images[0]\"\r\n              fit=\"contain \"\r\n            ></el-image>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"title\" label=\"标题\" width=\"180\"></el-table-column>\r\n        <el-table-column prop=\"status\" label=\"状态\">\r\n          <!-- 不同的状态码渲染不同的视图，使用v-if/v-show完成 -->\r\n          <template slot-scope=\"scope\">\r\n            <el-tag v-if=\"scope.row.status===0\">草稿</el-tag>\r\n            <el-tag v-else-if=\"scope.row.status===1\" type=\"info\">待审核</el-tag>\r\n            <el-tag v-else-if=\"scope.row.status===2\" type=\"success\">审核通过</el-tag>\r\n            <el-tag v-else-if=\"scope.row.status===3\" type=\"warning\">审核失败</el-tag>\r\n            <el-tag v-else-if=\"scope.row.status===4\" type=\"danger\">已删除</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"pubdate\" label=\"发布时间\"></el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              circle\r\n              type=\"primary\"\r\n              size=\"mini\"\r\n              icon=\"el-icon-edit\"\r\n              @click=\"handleEdit(scope.$index, scope.row)\"\r\n            ></el-button>\r\n            <el-button\r\n              circle\r\n              size=\"mini\"\r\n              icon=\"el-icon-delete\"\r\n              @click=\"handleDelete(scope.$index, scope.row)\"\r\n              type=\"danger\"\r\n            ></el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- total:总页数，total/pageSize=pageNum -->\r\n      <!-- current-change 当前页码改变时触发的事件 -->\r\n      <!-- size-change 每页显示的条数改变时触发 -->\r\n      <el-pagination\r\n        background\r\n        layout=\"total,  prev, pager, next, jumper\"\r\n        :current-page=\"curPage\"\r\n        class=\"pageCount\"\r\n        :total=\"total_count\"\r\n        @current-change=\"handleSizeChange\"\r\n      ></el-pagination>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { articleList, getChannel ,delArticle} from \"@/api/article\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        status: null, //文章状态\r\n        channelId: null, //选择频道\r\n        begin_pubdat: \"\",\r\n        end_pubdate: \"\",\r\n        date: null,\r\n      },\r\n      channels: [], //频道列表\r\n      tableData: [],\r\n      total_count: 0,\r\n      curPage:JSON.parse(localStorage.getItem(\"curpage\"))||1//控制当前页码\r\n    };\r\n  },\r\n  methods: {\r\n    // 点击查询\r\n    doSearch() {\r\n      this.getList();\r\n    },\r\n\r\n    // 获取文章列表,把返回的数据赋值给表格绑定的响应式数据tableData\r\n    getList() {\r\n      // date数据为空null的话，会报错\r\n      if (this.form.date === null) {\r\n        this.form.begin_pubdat = \"\";\r\n        this.form.end_pubdate = \"\";\r\n      } else {\r\n        this.form.begin_pubdat=this.form.date[0];\r\n        this.form.end_pubdate=this.form.date[1];\r\n      }\r\n\r\n      articleList({\r\n        page: this.curPage,\r\n        status: this.form.status,\r\n        channel_id: this.form.channelId,\r\n        begin_pubdate: this.form.begin_pubdat,\r\n        end_pubdate: this.form.end_pubdate,\r\n      }).then((res) => {\r\n        this.tableData = res.data.data.results;\r\n        this.total_count = res.data.data.total_count;\r\n      });\r\n    },\r\n\r\n    // 从服务器获取频道列表\r\n    hgetChannel() {\r\n      getChannel().then((res) => {\r\n        this.channels = res.data.data.channels;\r\n      });\r\n    },\r\n\r\n    //页码改变时要做的事情\r\n    // 1、data中的cuePage修改为当前页码\r\n    // 2、重新渲染数据到页面\r\n    handleSizeChange(val) {\r\n      // 默认传入的值就是当前页\r\n      // 形参val接收到的就是当前页\r\n      // console.log(val);\r\n      // 改变data中绑定的响应式数据中的当前值\r\n      this.curPage = val;\r\n      // 重新渲染数据到页面\r\n      this.getList();\r\n      localStorage.setItem('curpage',JSON.stringify(val))\r\n    },\r\n\r\n    // 编辑文章\r\n    handleEdit(index, row) {\r\n      //index: scope.$index 从0开始代表当前操作的数据是第几项\r\n      //row: scope.row  代表数据列表中的每一项数据\r\n      console.log(row, index);\r\n      //点击编辑跳转到编辑路由，并传递参数\r\n      this.$router.push({\r\n        path: \"editArticle\",\r\n        query: {\r\n          id: row.id,\r\n        },\r\n      });\r\n    },\r\n\r\n    // 删除文章\r\n    // 删除文章失败\r\n    // 发现问题：接口返回的数据：1294526296142905344\r\n    //          前端发送请求的数据：1294526296142905300\r\n    // 原因：json字符串转为js对象超过数值显示的范围会出现精度问题\r\n    // axios请求内部默认使用JSON.parse转换json字符串为对象\r\n    handleDelete(index, row) {\r\n      console.log(row.id);\r\n      // 获取id数据\r\n      let id=row.id.toString()\r\n      delArticle(id).then(res=>{\r\n        this.getList();\r\n        console.log('删除成功');\r\n      })\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getList();\r\n    this.hgetChannel();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.box-card {\r\n  margin-bottom: 20px;\r\n  .from {\r\n    margin-top: 20px;\r\n  }\r\n}\r\n.pageCount {\r\n  margin-top: 10px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1d531780&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1d531780&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d531780\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n"],"sourceRoot":""}